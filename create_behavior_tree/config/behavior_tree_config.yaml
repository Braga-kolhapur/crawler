# Create2 Behavior Tree Configuration
# This file contains all configurable parameters for the behavior tree

# Velocity settings (in m/s and rad/s)
velocity:
  forward_speed: 0.2          # Normal forward movement speed
  turn_speed: 0.15            # Speed while turning
  turn_angular_speed: 0.4     # Angular velocity while turning
  backup_speed: 0.1           # Backward movement speed
  rotation_speed: 1.0         # Speed for 180 degree turns

# Timing settings (in seconds)
timing:
  tree_update_hz: 10.0        # How often the behavior tree updates (Hz)
  delay_after_turn: 0.5       # Delay after turning maneuvers
  delay_after_collision: 1.0  # Delay after collision recovery
  delay_before_backup: 0.5    # Delay before backing up
  turn_180_duration: 3.0      # Time to complete 180 degree turn

# Sensor configuration
sensors:
  light_sensor_threshold: 1500    # Threshold for light sensor (0-4095)
  cliff_detection_enabled: true   # Enable cliff detection safety
  wheel_drop_detection_enabled: true  # Enable wheel drop emergency stop
  bumper_debounce_count: 2        # Number of updates to confirm bumper press

# ROS2 Topics
bumper_topic: '/create/bumper'
cliff_topic: '/create/cliff'
cmd_vel_topic: '/cmd_vel'

# ROS2 Services for motor control
wheel_motors_service: '/create/cmd_wheel_motors'
main_brush_service: '/create/cmd_main_brush_motor'
vacuum_service: '/create/cmd_vacuum_motor'

# Feature toggles
enable_emergency_stop: true           # Kill motors on wheel drop
enable_cliff_detection: true          # Prevent falling off cliffs
enable_obstacle_avoidance: true       # Basic obstacle detection

# Behavior tree presets
# Uncomment one preset below to quickly switch behavior profiles

# CONSERVATIVE: Slower, safer movements
# velocity:
#   forward_speed: 0.1
#   turn_speed: 0.08
#   turn_angular_speed: 0.2
#   backup_speed: 0.05
# timing:
#   tree_update_hz: 20.0
#   delay_after_turn: 1.0
#   delay_after_collision: 2.0

# AGGRESSIVE: Faster, more responsive movements
# velocity:
#   forward_speed: 0.4
#   turn_speed: 0.3
#   turn_angular_speed: 0.6
#   backup_speed: 0.15
# timing:
#   tree_update_hz: 20.0
#   delay_after_turn: 0.2
#   delay_after_collision: 0.5
